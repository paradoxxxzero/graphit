(function(){"use strict";const a={linear:"x","linear-horizontal":"y",polar:"o",parametric:"t"};for(let o of Array.from(Object.getOwnPropertyNames(Math)))self[o.toLowerCase()]=self[o]=Math[o];self.osc=(o,e)=>Math.sin(2*Math.PI*o*e),self.adsr=(o,e=.2,n=.1,t=.2,h=.2,f=.5)=>o<=e?o/e:o<=e+n?1-(1-f)*(o-e)/n:o<=e+n+t?f:o<=e+n+t+h?f-(f-0)*(o-e-n-t)/h:0,onmessage=({data:{index:o,funs:e,type:n,values:t,dimensions:h=2}})=>{let f="",p=[0];try{const c=e.map(r=>new Function(a[n],"return "+r));for(let r=0;r<t.length;r+=h){const i=t[r];if(h===1){if(t[r]=c[0](i),typeof t[r]!="number")throw t[r]=null,new Error(`${typeof t[r]} is not a number`)}else n==="parametric"?(t[r]=c[0](i),t[r+1]=c[1](i)):(t[r]=i,t[r+1]=c[0](i),n==="polar"&&(t[r]=t[r+1]*Math.cos(i),t[r+1]*=Math.sin(i)))}}catch(c){f=c}postMessage({index:o,values:t,type:n,skips:p,err:f})}})();
